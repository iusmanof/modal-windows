/******/ (function() { // webpackBootstrap
/******/ 	"use strict";

;// CONCATENATED MODULE: ./src/popup.js
function main() {
  const popupLinks = document.querySelectorAll('.popup-link');
  const body = document.querySelector('body');
  const lockPadding = document.querySelectorAll('.lock-padding');
  let unlock = true;
  const timeout = 800;

  if (popupLinks.length > 0) {
    for (let index = 0; index < popupLinks.length; index++) {
      const popupLink = popupLinks[index];
      popupLink.addEventListener('click', function (e) {
        const popupName = popupLink.getAttribute('href').replace('#', '');
        const curentPopup = document.getElementById(popupName);
        popupOpen(curentPopup);
        e.preventDefault();
      });
    }
  }

  const popupCloseIcon = document.querySelectorAll('.close-popup');

  if (popupCloseIcon.length > 0) {
    for (let index = 0; index < popupCloseIcon.length; index++) {
      const el = popupCloseIcon[index];
      el.addEventListener('click', function (e) {
        popupClose(el.closest('.popup'));
        e.preventDefault();
      });
    }
  }

  function popupOpen(currentPopup) {
    if (currentPopup && unlock) {
      const popupActive = document.querySelector('.popup.open');

      if (popupActive) {
        popupClose(popupActive, false);
      } else {
        bodyLock();
      }

      currentPopup.classList.add('open');
      currentPopup.addEventListener('click', function (e) {
        if (!e.target.closest('.popup__content')) {
          popupClose(e.target.closest('.popup'));
        }
      });
    }
  }

  function popupClose(popupActive, doUnlock = true) {
    if (unlock) {
      popupActive.classList.remove('open');

      if (doUnlock) {
        bodyUnLock();
      }
    }
  }

  function bodyLock() {
    const lockPaddingValue = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';

    if (lockPadding.length > 0) {
      for (let index = 0; index < lockPadding.length; index++) {
        const el = lockPadding[index];
        el.style.paddingRight = lockPaddingValue;
      }
    }

    body.style.paddingRight = lockPaddingValue;
    body.classList.add('lock');
    unlock = false;
    setTimeout(function () {
      unlock = true;
    }, timeout);
  }

  function bodyUnLock() {
    setTimeout(function () {
      for (let index = 0; index < lockPadding.length; index++) {
        const el = lockPadding[index];
        el.style.paddingRight = '0px';
      }

      body.style.paddingRight = '0px';
      body.classList.remove('lock');
    }, timeout);
    unlock = false;
    setTimeout(function () {
      unlock = true;
    }, timeout);
  }

  document.addEventListener('keydown', function (e) {
    if (e.which === 27) {
      const popupActive = document.querySelector('.popup.open');
      popupClose(popupActive);
    }
  });

  (function () {
    // проверяем поддержку
    if (!Element.prototype.closest) {
      // реализуем
      Element.prototype.closest = function (css) {
        var node = this;

        while (node) {
          if (node.matches(css)) return node;else node = node.parentElement;
        }

        return null;
      };
    }
  })();

  (function () {
    // проверяем поддержку
    if (!Element.prototype.matches) {
      // определяем свойство
      Element.prototype.matches = Element.prototype.matchesSelector || Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector;
    }
  })();
}


;// CONCATENATED MODULE: ./src/index.js



main();
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb2RhbC13aW1kb3dzLy4vc3JjL3BvcHVwLmpzIiwid2VicGFjazovL21vZGFsLXdpbWRvd3MvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsibWFpbiIsInBvcHVwTGlua3MiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJib2R5IiwicXVlcnlTZWxlY3RvciIsImxvY2tQYWRkaW5nIiwidW5sb2NrIiwidGltZW91dCIsImxlbmd0aCIsImluZGV4IiwicG9wdXBMaW5rIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwb3B1cE5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJyZXBsYWNlIiwiY3VyZW50UG9wdXAiLCJnZXRFbGVtZW50QnlJZCIsInBvcHVwT3BlbiIsInByZXZlbnREZWZhdWx0IiwicG9wdXBDbG9zZUljb24iLCJlbCIsInBvcHVwQ2xvc2UiLCJjbG9zZXN0IiwiY3VycmVudFBvcHVwIiwicG9wdXBBY3RpdmUiLCJib2R5TG9jayIsImNsYXNzTGlzdCIsImFkZCIsInRhcmdldCIsImRvVW5sb2NrIiwicmVtb3ZlIiwiYm9keVVuTG9jayIsImxvY2tQYWRkaW5nVmFsdWUiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwib2Zmc2V0V2lkdGgiLCJzdHlsZSIsInBhZGRpbmdSaWdodCIsInNldFRpbWVvdXQiLCJ3aGljaCIsIkVsZW1lbnQiLCJwcm90b3R5cGUiLCJjc3MiLCJub2RlIiwibWF0Y2hlcyIsInBhcmVudEVsZW1lbnQiLCJtYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIlBvcHVwIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsU0FBU0EsSUFBVCxHQUFlO0FBRWYsUUFBTUMsVUFBVSxHQUFHQyxRQUFRLENBQUNDLGdCQUFULENBQTBCLGFBQTFCLENBQW5CO0FBQ0EsUUFBTUMsSUFBSSxHQUFHRixRQUFRLENBQUNHLGFBQVQs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cHVwTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAtbGluaycpO1xuY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcbmNvbnN0IGxvY2tQYWRkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxvY2stcGFkZGluZycpXG5cbmxldCB1bmxvY2sgPSB0cnVlXG5cbmNvbnN0IHRpbWVvdXQgPSA4MDBcblxuaWYgKHBvcHVwTGlua3MubGVuZ3RoID4gMCkge1xuICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBwb3B1cExpbmtzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBjb25zdCBwb3B1cExpbmsgPSBwb3B1cExpbmtzW2luZGV4XTtcbiAgICAgICAgcG9wdXBMaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcHVwTmFtZSA9IHBvcHVwTGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKS5yZXBsYWNlKCcjJywgJycpO1xuICAgICAgICAgICAgY29uc3QgY3VyZW50UG9wdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwb3B1cE5hbWUpO1xuICAgICAgICAgICAgcG9wdXBPcGVuKGN1cmVudFBvcHVwKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jb25zdCBwb3B1cENsb3NlSWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jbG9zZS1wb3B1cCcpO1xuaWYgKHBvcHVwQ2xvc2VJY29uLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcG9wdXBDbG9zZUljb24ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIGNvbnN0IGVsID0gcG9wdXBDbG9zZUljb25baW5kZXhdO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBwb3B1cENsb3NlKGVsLmNsb3Nlc3QoJy5wb3B1cCcpKTtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwb3B1cE9wZW4oY3VycmVudFBvcHVwKSB7XG4gICAgaWYgKGN1cnJlbnRQb3B1cCAmJiB1bmxvY2spIHtcbiAgICAgICAgY29uc3QgcG9wdXBBY3RpdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXAub3BlbicpO1xuICAgICAgICBpZiAocG9wdXBBY3RpdmUpIHtcbiAgICAgICAgICAgIHBvcHVwQ2xvc2UocG9wdXBBY3RpdmUsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJvZHlMb2NrKCk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudFBvcHVwLmNsYXNzTGlzdC5hZGQoJ29wZW4nKTtcbiAgICAgICAgY3VycmVudFBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGlmICghZS50YXJnZXQuY2xvc2VzdCgnLnBvcHVwX19jb250ZW50JykpIHtcbiAgICAgICAgICAgICAgICBwb3B1cENsb3NlKGUudGFyZ2V0LmNsb3Nlc3QoJy5wb3B1cCcpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwb3B1cENsb3NlKHBvcHVwQWN0aXZlLCBkb1VubG9jayA9IHRydWUpIHtcbiAgICBpZiAodW5sb2NrKSB7XG4gICAgICAgIHBvcHVwQWN0aXZlLmNsYXNzTGlzdC5yZW1vdmUoJ29wZW4nKTtcbiAgICAgICAgaWYgKGRvVW5sb2NrKSB7XG4gICAgICAgICAgICBib2R5VW5Mb2NrKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGJvZHlMb2NrKCkge1xuICAgIGNvbnN0IGxvY2tQYWRkaW5nVmFsdWUgPSB3aW5kb3cuaW5uZXJXaWR0aCAtXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyJykub2Zmc2V0V2lkdGggKyAncHgnO1xuXG4gICAgaWYgKGxvY2tQYWRkaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGxvY2tQYWRkaW5nLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgZWwgPSBsb2NrUGFkZGluZ1tpbmRleF07XG4gICAgICAgICAgICBlbC5zdHlsZS5wYWRkaW5nUmlnaHQgPSBsb2NrUGFkZGluZ1ZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0ID0gbG9ja1BhZGRpbmdWYWx1ZTtcbiAgICBib2R5LmNsYXNzTGlzdC5hZGQoJ2xvY2snKTtcblxuICAgIHVubG9jayA9IGZhbHNlO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB1bmxvY2sgPSB0cnVlXG4gICAgfSwgdGltZW91dCk7XG59XG5cbmZ1bmN0aW9uIGJvZHlVbkxvY2soKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBsb2NrUGFkZGluZy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gbG9ja1BhZGRpbmdbaW5kZXhdO1xuICAgICAgICAgICAgZWwuc3R5bGUucGFkZGluZ1JpZ2h0ID0gJzBweCc7XG4gICAgICAgIH1cbiAgICAgICAgYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQgPSAnMHB4JztcbiAgICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdsb2NrJyk7XG4gICAgfSwgdGltZW91dCk7XG5cbiAgICB1bmxvY2sgPSBmYWxzZTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdW5sb2NrID0gdHJ1ZTtcbiAgICB9LCB0aW1lb3V0KTtcbn1cblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUud2hpY2ggPT09IDI3KSB7XG4gICAgICAgIGNvbnN0IHBvcHVwQWN0aXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwLm9wZW4nKTtcbiAgICAgICAgcG9wdXBDbG9zZShwb3B1cEFjdGl2ZSk7XG4gICAgfVxufSk7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyDQv9GA0L7QstC10YDRj9C10Lwg0L/QvtC00LTQtdGA0LbQutGDXG4gICAgaWYgKCFFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0KSB7XG5cbiAgICAgICAgLy8g0YDQtdCw0LvQuNC30YPQtdC8XG4gICAgICAgIEVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QgPSBmdW5jdGlvbiAoY3NzKSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXM7XG5cbiAgICAgICAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUubWF0Y2hlcyhjc3MpKSByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgICAgICBlbHNlIG5vZGUgPSBub2RlLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyDQv9GA0L7QstC10YDRj9C10Lwg0L/QvtC00LTQtdGA0LbQutGDXG4gICAgaWYgKCFFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzKSB7XG5cbiAgICAgICAgLy8g0L7Qv9GA0LXQtNC10LvRj9C10Lwg0YHQstC+0LnRgdGC0LLQvlxuICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzID0gRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3I7XG5cbiAgICB9XG5cbn0pKCk7XG59XG5cbmV4cG9ydCB7bWFpbn07XG4iLCJpbXBvcnQgJ25vcm1hbGl6ZS5jc3MnXG5pbXBvcnQgJy4vc3R5bGUuc2FzcydcbmltcG9ydCAqIGFzIFBvcHVwIGZyb20gJy4uL3NyYy9wb3B1cCdcblxuUG9wdXAubWFpbigpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==